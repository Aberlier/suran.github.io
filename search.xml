<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>关于学生总成绩排名问题及Collections使用</title>
    <url>/2019/10/22/%E5%85%B3%E4%BA%8E%E5%AD%A6%E7%94%9F%E6%80%BB%E6%88%90%E7%BB%A9%E6%8E%92%E5%90%8D%E9%97%AE%E9%A2%98%E5%8F%8ACollections%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="关于学生总成绩排名问题及Collections使用"><a href="#关于学生总成绩排名问题及Collections使用" class="headerlink" title="关于学生总成绩排名问题及Collections使用"></a>关于学生总成绩排名问题及Collections使用</h2><p>写一个项目真是存在很多的bug,修复的时间往往比开发所需要的时间更长，今天又出了一个bug,在这里记录一下，主要是针对系统中学生的成绩排名。</p>
<h4 id="出现的问题是当管理员对成绩进行删除操作的时候排名不会变化"><a href="#出现的问题是当管理员对成绩进行删除操作的时候排名不会变化" class="headerlink" title="出现的问题是当管理员对成绩进行删除操作的时候排名不会变化"></a>出现的问题是当管理员对成绩进行删除操作的时候排名不会变化</h4><p>因为成绩是以Excel表格的形式进行导入的，在导入的同时对里面的成绩进行汇总和排序，在排序上分别对学生成绩的班级进行排名和全校名次进行排名，排名的关键点就是考试的批次，这么说可能有点笼统，下面举个栗子：</p>
<p> <img alt="img" data-src="https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&quality=100&size=b4000_4000&sec=1571755425&di=89f9186748746fae06a09b354579d8ed&src=http://himg2.huanqiu.com/attachment2010/2017/0411/20170411011851880.jpg" class="lozad"> </p>
<h6 id="栗子："><a href="#栗子：" class="headerlink" title="栗子："></a>栗子：</h6><p>成绩由管理员和教师进行上传，上传的同时教师选择考试批次：第一次模拟考试 ，选择班主任，选择Excel文件，然后点击导入。对于导入文件功能等过几天我在发布上来。<img alt="1571755614542" data-src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1571755614542.png" class="lozad"></p>
<p>在后台就是</p>
<p><img alt="1571756051728" data-src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1571756051728.png" class="lozad"></p>
<p>在这里可以看到考试批次的eid编号，所以在排序的时候sql语句加一个where值为eid，根据考试批次进行班级和全校的排名。</p>
<h4 id="以区域排名为例"><a href="#以区域排名为例" class="headerlink" title="以区域排名为例"></a>以区域排名为例</h4><pre><code>Control
//区域排名
    List&lt;Score&gt; listAllR = scoreService.findRegionalranking(eid);//获取学生的班级排名
    if(listAllR==null||listAllR.equals(&quot;&quot;)){
        String failurl=request.getContextPath()+&quot;/ScoreServlet?action=adm_findAllScore&quot;;
        String msg = &quot;&lt;script&gt;window.alert(&apos;该考试批次已不存在相关学生成绩！&apos;);window.location.href=&apos;&quot;+failurl+&quot;&apos;;&lt;/script&gt;&quot;;
        request.setAttribute(&quot;msg&quot;, msg);
        request.getRequestDispatcher(&quot;msg.jsp&quot;).forward(request, response);    
    }else{
        Collections.sort(listAllR);//将数据库查询的数组进行排序
        for (int i = 0; i &lt;listAllR.size(); i++) {
            listAllR.get(i).setRegionalranking(i+1+&quot;&quot;);
            scoreService.updateRegionalranking(listAllR.get(i));
        }
    }</code></pre><h3 id="Collections-中有一个方法叫做sort可以对集合中的内容进行排序"><a href="#Collections-中有一个方法叫做sort可以对集合中的内容进行排序" class="headerlink" title="Collections 中有一个方法叫做sort可以对集合中的内容进行排序"></a>Collections 中有一个方法叫做sort可以对集合中的内容进行排序</h3><p> static void sort(List list)： 对集合中的内容进行排序</p>
<p>要使用这个sort方法进行排序的集合，里面的泛型必须实现Comparable接口</p>
<p>实现这个接口的对象才具备排序的功能， 这种排序自然排序。</p>
<p>口诀：<br>升序就是我减他，降续就是他减我</p>
<p>想要在哪个对象中使用就要继承Comparable接口</p>
<p><img alt="1571757435627" data-src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1571757435627.png" class="lozad"></p>
<p>与此同时我们按照降序排列</p>
<p><img alt="1571757402288" data-src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1571757402288.png" class="lozad"></p>
<p>然后调用scoreService.updateRegionalranking(listAllR.get(i));这个方法，将请求送到Dao，最后修改排名。</p>
<h3 id="效果如下"><a href="#效果如下" class="headerlink" title="效果如下"></a>效果如下</h3><p>未删除成绩前界面如下：</p>
<p><img alt="1571757792968" data-src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1571757792968.png" class="lozad"></p>
<p>点击删除乔峰，木婉清就变成了第一名，效果如下</p>
<p><img alt="1571757871623" data-src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1571757871623.png" class="lozad"></p>
<p>总之，还是很烦返修程序的，但是程序都是在不断的探索中逐步强化，自身的能力也是一样，写到这里了，睡觉去，猪儿说不能熬夜！❤</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>排名</tag>
        <tag>Collections</tag>
        <tag>猪儿</tag>
      </tags>
  </entry>
  <entry>
    <title>学长给你们的大学指南</title>
    <url>/2019/10/20/hello-world%20-%20%E5%89%AF%E6%9C%AC/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>由于一个“ 引发的事故</title>
    <url>/2019/10/20/error001/</url>
    <content><![CDATA[<p>前阵子在写程序的时候出现了这么一个错误：<br>org.apache.jasper.JasperException: /WEB-INF/pages/accessory/accessoryHome.jsp(1,61) quote symbol expected</p>
<p>错误代码如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;c:when <span class="built_in">test</span>=<span class="variable">$&#123;page.page==1 &#125;</span>&gt;</span><br><span class="line">          &lt;li class=<span class="string">"active"</span>&gt;&lt;a href=<span class="string">"javascript:void();"</span> title=<span class="string">"首页"</span>&gt;首页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;/c:when&gt;</span><br></pre></td></tr></table></figure>
<p>quote symbol expected：quote symbol就是引号,expected就是期待连起来就是我代码少写引号了；</p>
<p>正确代码如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;c:when <span class="built_in">test</span>=<span class="variable">$&#123;"page.page==1" &#125;</span>&gt;</span><br><span class="line">   &lt;li class=<span class="string">"active"</span>&gt;&lt;a href=<span class="string">"javascript:void();"</span> title=<span class="string">"首页"</span>&gt;首页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;/c:when&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>错误集锦</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Exception</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>张某人技术交流站</title>
    <url>/2019/10/19/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
</search>
